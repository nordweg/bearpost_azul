string = <<~HEREDOC.strip
<nfeProc versao="4.00" xmlns="http://www.portalfiscal.inf.br/nfe"><NFe xmlns="http://www.portalfiscal.inf.br/nfe"><infNFe versao="4.00" Id="NFe43190613536856000128550020000020221471254988"><ide><cUF>43</cUF><cNF>47125498</cNF><natOp>Venda de mercadorias</natOp><mod>55</mod><serie>2</serie><nNF>2022</nNF><dhEmi>2019-06-14T15:59:03+00:00</dhEmi><dhSaiEnt>2019-06-14T15:59:03+00:00</dhSaiEnt><tpNF>1</tpNF><idDest>2</idDest><cMunFG>4314423</cMunFG><tpImp>1</tpImp><tpEmis>1</tpEmis><cDV>8</cDV><tpAmb>1</tpAmb><finNFe>1</finNFe><indFinal>1</indFinal><indPres>2</indPres><procEmi>0</procEmi><verProc>NFe.io v2.0</verProc></ide><emit><CNPJ>13536856000128</CNPJ><xNome>Nordweg Acessórios de Couro Ltda</xNome><enderEmit><xLgr>Rod. Pres. Getúlio Vargas</xLgr><nro>1722</nro><xBairro>CENTRO</xBairro><cMun>4314423</cMun><xMun>Picada Café</xMun><UF>RS</UF><CEP>95166000</CEP><cPais>1058</cPais><xPais>Brasil</xPais></enderEmit><IE>3880006336</IE><CRT>1</CRT></emit><dest><CPF>02779121300</CPF><xNome>THIAGO  CALDAS</xNome><enderDest><xLgr>Rua Solon Pinheiro</xLgr><nro>1070</nro><xCpl>AP 1403 TORRE A</xCpl><xBairro>FATIMA</xBairro><cMun>2304400</cMun><xMun>Fortaleza</xMun><UF>CE</UF><CEP>60050040</CEP><cPais>1058</cPais><xPais>Brasil</xPais></enderDest><indIEDest>9</indIEDest></dest><det nItem="1"><prod><cProd>NW038.IP</cProd><cEAN>SEM GTIN</cEAN><xProd>Carteira masculina de couro NW038</xProd><NCM>42022100</NCM><CFOP>6108</CFOP><uCom>UN</uCom><qCom>1.0000</qCom><vUnCom>179.0000000000</vUnCom><vProd>179.00</vProd><cEANTrib>SEM GTIN</cEANTrib><uTrib>UN</uTrib><qTrib>1.0000</qTrib><vUnTrib>179.0000000000</vUnTrib><vFrete>15.06</vFrete><indTot>1</indTot></prod><imposto><ICMS><ICMSSN102><orig>0</orig><CSOSN>102</CSOSN></ICMSSN102></ICMS><PIS><PISOutr><CST>49</CST><vBC>0.00</vBC><pPIS>0.0000</pPIS><vPIS>0.00</vPIS></PISOutr></PIS><COFINS><COFINSOutr><CST>99</CST><vBC>0.00</vBC><pCOFINS>0.0000</pCOFINS><vCOFINS>0.00</vCOFINS></COFINSOutr></COFINS></imposto></det><total><ICMSTot><vBC>0.00</vBC><vICMS>0.00</vICMS><vICMSDeson>0.00</vICMSDeson><vFCPUFDest>0.00</vFCPUFDest><vICMSUFDest>0.00</vICMSUFDest><vICMSUFRemet>0.00</vICMSUFRemet><vFCP>0.00</vFCP><vBCST>0.00</vBCST><vST>0.00</vST><vFCPST>0.00</vFCPST><vFCPSTRet>0.00</vFCPSTRet><vProd>179.00</vProd><vFrete>15.06</vFrete><vSeg>0.00</vSeg><vDesc>0.00</vDesc><vII>0.00</vII><vIPI>0.00</vIPI><vIPIDevol>0.00</vIPIDevol><vPIS>0.00</vPIS><vCOFINS>0.00</vCOFINS><vOutro>0.00</vOutro><vNF>194.06</vNF><vTotTrib>0.00</vTotTrib></ICMSTot></total><transp><modFrete>1</modFrete></transp><pag><detPag><tPag>99</tPag><vPag>194.06</vPag></detPag></pag><infAdic><infCpl>Nordweg - Pedido R051470621</infCpl></infAdic></infNFe><Signature xmlns="http://www.w3.org/2000/09/xmldsig#"><SignedInfo><CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315" /><SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1" /><Reference URI="#NFe43190613536856000128550020000020221471254988"><Transforms><Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature" /><Transform Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315" /></Transforms><DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1" /><DigestValue>GML2gJo3I/UT3onMKgmkkqAFhgA=</DigestValue></Reference></SignedInfo><SignatureValue>bvmACLKjqbL/0z0Yny5eGj8Tx2oSY92YRKgOx3urvya+7QZ76JcV8O++6oyDwfqEPEtBN0MpYA6no3dA5EuXh5ejfYten63phLH142pi7zKfPDZu9MNRGb6AlM0LJDs6fzNOdwoiQpCuCjIYsXH3OUMHF0lIjZ1lGvlbN/JDofVeDiabEUICbyoZ0m/PKsX72atEkN0+hsyFRFlJelhp7jOGSvxm/nSIdV+LEC4oMIttb2y/BMb8Saw3nvfX8tANThtQzUIikvdVZJKxIK27K9IRnHdGtrBYmyeGSUhyoJG9ftWl8qUxdx+hHiZwrHq3jIayR4s6WWM9Upuq0kKqYw==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></NFe><protNFe versao="4.00"><infProt><Id>Id143190108769564</Id><tpAmb>1</tpAmb><verAplic>RS201905310906</verAplic><chNFe>43190613536856000128550020000020221471254988</chNFe><dhRecbto>2019-06-14T12:59:04+00:00</dhRecbto><nProt>143190108769564</nProt><digVal>GML2gJo3I/UT3onMKgmkkqAFhgA=</digVal><cStat>100</cStat><xMotivo>Autorizado o uso da NF-e</xMotivo></infProt></protNFe></nfeProc>
HEREDOC
xml = Base64.strict_encode64(string)

Base64.strict_decode64(encoded)
